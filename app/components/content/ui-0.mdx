
export const metadata = {
  title: "Responsive Modal",
  order: 0,
  publishDate: "October 19th 2024",
  description:
    "A responsive Modal/Drawer that renders a Dialog on desktop and a Drawer on mobile.",
  category: "Styling",
};

import MdxLayout from "@/components/mdx/layout.tsx";

        <Viewport >
  <ResponsiveModal />
</Viewport>

I created this component for my portfolio to combine the Dialog and Drawer components into a single component that renders a Dialog on desktop and a Drawer on mobile. The component is flexible and can be used in any project to display a modal or drawer.

## Installation

<Tabs defaultValue="cli">
        <TabsList className="">
          <TabsTrigger value="cli">CLI</TabsTrigger>
          <TabsTrigger value="manual">Manual</TabsTrigger>
        </TabsList>
        <TabsContent value="cli">
     ```bash
     npx shadcn@latest add "https://c-g.dev/modal.json"
     ```
        </TabsContent>
        <TabsContent value="manual">
        Create a file called **modal.tsx** in the **components/ui** directory and add the following code:
        ```tsx showLineNumbers    
"use client";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
  DialogClose,
} from "@/components/ui/dialog";
import {
  Drawer,
  DrawerContent,
  DrawerDescription,
  DrawerFooter,
  DrawerHeader,
  DrawerTitle,
  DrawerTrigger,
  DrawerClose,
} from "@/components/ui/drawer";
import { useMediaQuery } from "@/lib/media-query";
import { cn } from "@/lib/utils";

const ModalRoot = ({ children }: { children: React.ReactNode }) => {
  const isDesktop = useMediaQuery("(min-width: 768px)");
  if (isDesktop) {
    return <Dialog>{children}</Dialog>;
  } else {
    return <Drawer>{children}</Drawer>;
  }
};

const ModalTrigger = ({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) => {
  const isdesktop = useMediaQuery("(min-width: 768px)");
  if (isdesktop) {
    return (
      <DialogTrigger className={cn(`w-fit`, className)}>
        {children}
      </DialogTrigger>
    );
  } else {
    return (
      <DrawerTrigger className={cn(`w-fit`, className)}>
        {children}
      </DrawerTrigger>
    );
  }
};

const ModalContent = ({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) => {
  const isdesktop = useMediaQuery("(min-width: 768px)");
  if (isdesktop) {
    return (
      <DialogContent className={cn("text-left", className)}>
        {children}
      </DialogContent>
    );
  } else {
    return <DrawerContent className={cn(className)}>{children}</DrawerContent>;
  }
};

const ModalHeader = ({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) => {
  const isdesktop = useMediaQuery("(min-width: 768px)");
  if (isdesktop) {
    return (
      <DialogHeader className={cn("text-left", className)}>
        {children}
      </DialogHeader>
    );
  } else {
    return (
      <DrawerHeader className={cn("text-left", className)}>
        {children}
      </DrawerHeader>
    );
  }
};

const ModalFooter = ({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) => {
  const isdesktop = useMediaQuery("(min-width: 768px)");
  if (isdesktop) {
    return (
      <DialogFooter className={cn("text-left", className)}>
        {children}
      </DialogFooter>
    );
  } else {
    return <DrawerFooter className={cn(className)}>{children}</DrawerFooter>;
  }
};

const ModalTitle = ({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) => {
  const isdesktop = useMediaQuery("(min-width: 768px)");
  if (isdesktop) {
    return <DialogTitle className={cn(className)}>{children}</DialogTitle>;
  } else {
    return <DrawerTitle className={cn(className)}>{children}</DrawerTitle>;
  }
};

const ModalDescription = ({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) => {
  const isdesktop = useMediaQuery("(min-width: 768px)");
  if (isdesktop) {
    return (
      <DialogDescription className={cn(className)}>
        {children}
      </DialogDescription>
    );
  } else {
    return (
      <DrawerDescription className={cn(className)}>
        {children}
      </DrawerDescription>
    );
  }
};

const ModalClose = ({
  children,
  className,
}: {
  children: React.ReactNode;
  className?: string;
}) => {
  const isdesktop = useMediaQuery("(min-width: 768px)");
  if (isdesktop) {
    return (
      <DialogClose className={cn("text-right", className)}>
        {children}
      </DialogClose>
    );
  } else {
    return (
      <DrawerClose className={cn("pb-4", className)}>{children}</DrawerClose>
    );
  }
};

export {
  ModalRoot,
  ModalTrigger,
  ModalContent,
  ModalHeader,
  ModalFooter,
  ModalTitle,
  ModalDescription,
  ModalClose,
};
      ```
        </TabsContent>
      </Tabs>

## Usage

You can use the component like this:

 <Tabs defaultValue="preview">
        <TabsList className="">
          <TabsTrigger value="preview">Preview</TabsTrigger>
          <TabsTrigger value="code">Code</TabsTrigger>
        </TabsList>
        <TabsContent value="preview">
    <Viewport><ResponsiveModal/></Viewport>
        </TabsContent>
        <TabsContent value="code">
         ```tsx showLineNumbers
import {
  ModalRoot,
  ModalContent,
  ModalTrigger,
  ModalDescription,
  ModalFooter,
  ModalHeader,
  ModalTitle,
  ModalClose,
} from "./modal";
import { Button } from "./ui/button";

export default function ResponsiveModal() {
  return (
    <ModalRoot>
      <ModalTrigger>
        <Button variant={"outline"} className="w-fit">
          Open
        </Button>
      </ModalTrigger>
      <ModalContent>
        <ModalHeader>
          <ModalTitle>Modal Title</ModalTitle>
          <ModalDescription>Modal Description</ModalDescription>
        </ModalHeader>
        <ModalFooter>
          <ModalClose>
            <Button className="w-full" variant={"outline"}>
              Close
            </Button>
          </ModalClose>
        </ModalFooter>
      </ModalContent>
    </ModalRoot>
  );
}
         ```
        </TabsContent>
      </Tabs>

export default function MDXPage({ children }) {
return <MdxLayout>{children}</MdxLayout>

}
